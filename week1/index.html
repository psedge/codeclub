<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <title>Traffic Lights</title>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="../assets/spectre.min.css">
    <link rel="stylesheet" href="../assets/jquery-ui.min.css">
    <link href="../assets/codeclub.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+SC" rel="stylesheet">
    <script src="../assets/src-noconflict/ace.js" type="text/javascript" charSet="utf-8"></script>
    <script src="../assets/jquery-3.3.1.min.js" type="text/javascript" charSet="utf-8"></script>
    <script src="../assets/jquery-ui.min.js" type="text/javascript" charSet="utf-8"></script>
    <script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@4"></script>

    <style type="text/css" media="screen">
        section#order { width: 80% }
        section#display { width: 20%; }
    </style>
</head>

<body>
<section id="order">
    <header>
        <div class="float-left">
            <h2>Traffic Lights</h2>
            <p>Can you code a traffic light to show in the right order?</p>
        </div>
        <div class="float-right">
            <input type="text" id="username" />
            <input type="hidden" id="week" value="1"/>
            <i class="fa fa-question" data-tippy-content="
                <strong>light.setColour('red')</strong><br/><span>Sets the colour of the light to the string you pass</span><br/>
                <strong>light.on()</strong><br/><span>Turns the light on</span><br/>
                <strong>light.off()</strong><br/><span>Turns the light off</span><br/>
                <strong>light.setHeight('200px')</strong><br/><span>Sets the height of the light</span><br/>
                <strong>light.setWidth('200px')</strong><br/><span>Sets the width of the light</span><br/>
                <strong>light.shake()</strong><br/><span>Shakes the light side-to-side</span><br/>
                <strong>light.bounce()</strong><br/><span>Bounces the light up and down</span><br/>
                <strong>light.puff()</strong><br/><span>Makes the light disappear</span><br/>
                <strong>light.pulse()</strong><br/><span>Turns the light on and off quickly</span><br/>
"></i>
        </div>
    </header>
    <main>
<div id="code">// This is the code that will run when we press 'play'
// Lines that begin with // are comments, they aren't read by the computer!
// Let's set up the colours for our lights.

// We have 3 lights, topLight, middleLight, and bottomLight, which we can tell to turn on, turn off, or change colour
// Let's set the lights to the right colour now!
topLight.setColour("red");
middleLight.setColour("yellow");
bottomLight.setColour("green");

// The first thing we want to do is to turn the red light on.
topLight.on();

// Now the middle light turns on
middleLight.on();

// Now turn them both off
topLight.off();
middleLight.off();

// What do we want to do next? (hint: the bottom light turns on!)
        </div>
    </main>
</section>
<section id="display" class="week1">
    <button class="btn btn-success" id="play" onclick="play()"><i class="fas fa-play"></i> play</button>
    <button class="btn btn-error" onclick="stop()"><i class="fas fa-stop"></i> stop</button>
    <div id="topLight"></div>
    <div id="middleLight"></div>
    <div id="bottomLight"></div>
</section>

<script src="../assets/d3.v3.min.js"></script>
<script id="board" src="../assets/board.js" week="1"></script>

<script>

    lineWait = 400;
    function play() { playCode() }

    var setColour = function(color) { this.myColor = color }
    var setHeight = function(height) { this.style.height = height; }
    var setWidth = function(width) { this.style.width = width; }
    var shake = function() { $(this).effect('shake') };
    var bounce = function() { $(this).effect('bounce') };
    var puff = function() { $(this).effect('puff') };
    var pulse = function() { $(this).effect('pulsate') };

    var lightDivs = [
        document.getElementById("topLight"),
        document.getElementById("middleLight"),
        document.getElementById("bottomLight")
    ];
    lightDivs.forEach((item) => {
        item.setColour = setColour;
        item.setHeight = setHeight;
        item.setWidth = setWidth;
        item.shake = shake;
        item.bounce = bounce;
        item.puff = puff;
        item.pulse = pulse;
        item.on = () => { item.style.backgroundColor = item.myColor; };
        item.off = () => { item.style.backgroundColor = 'transparent'};
    });
</script>
</body>